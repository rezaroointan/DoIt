@page "/Account/Logout"
@using DoIt.Data.Entities.Users
@using Microsoft.AspNetCore.Identity

@inject SignInManager<AppUser> SignInManager
@inject IdentityRedirectManager RedirectManager

@code{

    // URL requested by the user
    [SupplyParameterFromQuery]
    private string? ReturnUrl { get; set; }

    protected override async Task OnInitializedAsync()
    {
        // Sign out
        await SignInManager.SignOutAsync();

        // Redirect to the input url
        RedirectManager.RedirectTo(ReturnUrl);
    }
}
